Welcome, <%= current_user.email %>
<%= link_to "Logout", logout_path, method: :delete %>

<%= form_for(@new_link) do |f| %>
  <h4><%= f.label :url %>
  <span class="form-field-email"><%= f.text_field :url, class: "form-control" %></span></h4>
  <h4><%= f.label :title %>
  <span class="form-field-password"><%= f.text_field :title, class: "form-control" %></span></h4>
  <%= f.submit "Create Link"%>
  <br><br><br>
<% end %>

<div class="col-sm-4 col-sm-offset-2">
  <h5>Search:</h5>
  <input type="text" class="form-control" id="search-bar">
</div>
<div class="col-sm-2 col-sm-offset-2">
  Filer by Status: <%= select("link", "filter_status", ["All", "Read", "Unread"], selected: "All") %>
</div>

<table class="table table-hover">
  <thead>
    <tr>
      <th>Url</th>
      <th id="title-header"><%= link_to "Title" %></th>
      <th>Read</th>
      <th>Edit</th>
    </tr>
  </thead>

  <tbody>
    <% @links.each do |link| %>
    <% if link.read %>
      <tr data-id="<%= link.id %>" id="link-<%= link.id %>" class="link read" data-status="Read">
        <td class="link-url"><%= link.url %></td>
        <td class="link-title"><%= link.title %></td>
        <td class="link-status">
          <%= link_to "Mark as Unread", link_path(link, read: false), method: :patch %>
        </td>
        <td><%= link_to "Edit", edit_link_path(link) %></td>
      </tr>
    <% else %>
      <tr data-id="<%= link.id %>" id="link-<%= link.id %>" class="link unread" data-status="Unread">
        <td class="link-url"><%= link.url %></td>
        <td class="link-title"><%= link.title %></td>
        <td class="link-status">
          <%= link_to "Mark as Read", link_path(link, read: true), method: :patch %>
        </td>
        <td><%= link_to "Edit", edit_link_path(link) %></td>
      </tr>
    <% end %>

    <% end %>
  </tbody>
</table>
